<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SKIT SPAship Test</title>
    <script>
        top.addEventListener('newsflash', e=> {
            const result = document.querySelector(`pre[data-event="${e.detail.event}"]`);
            result.textContent = JSON.stringify(e.detail,null,2);
            console.log('NEWSFLASH:', e.detail)
        });
    </script>
    <script type="module" src="/cpx-newsdesk/newsdesk.js"></script>
    <script type="module" src="/cpx-reporter/reporter.js" data-event="Page Load Started">
        {
        "analyticsTitle": "Extracting information from Python source code",
        "blogAuthor": "Fridolin Pokorny",
        "breadCrumbs": "xxx",
        "pageCategory": "articles",
        "cms": "RHD CMS 8",
        "contentId": "269391",
        "contentType": "article",
        "dataObject": "digitalData",
        "destinationUrl": "https://dxp-developer.docksal/articles/2022/01/05/extracting-information-python-source-code",
        "errorType": "1234",
        "gated": "False",
        "pageName": "xxxx",
        "queryParameters": "xxxx",
        "severityLevel": "xxx",
        "siteLanguage": "xx",
        "pageStatus": "xxx",
        "pageSubType": "xxx",
        "pageTitle": "Extracting information from Python source code | Red Hat Developer",
        "pageType": "xxx",
        "productCategory": "xxx",
        "productCertifiedVendor": "xx",
        "productComponents": "xxx",
        "productPublicationStatus": "xxx",
        "productSBR": "xxx",
        "productTags": "xxx",
        "products": "OpenShift, RHEL"
       }
    </script>
    <script type="module" src="/cpx-reporter/cpx-reporter.js"></script>
    
    <style>
        fieldset {
            margin-bottom: 1em;
        }
        ul {
            list-style: none;
        }
        pre { overflow:hidden; }
    </style>
</head>
<body>
    <h1>Chapeaux Newsdesk Demo</h1>
    <fieldset>
        <legend>Page Events</legend>
        <ul>
            <li>
                <details>
                    <summary>Page Load Started</summary>
                    <pre data-event="Page Load Started"></pre>
                </details>
                <cpx-reporter auto event="Page Load Started">
                    <script type="data">
                    {
                    "pageCategory": "technologies",
                    "pageName": "{pageName}",
                    "pageTitle": "Red Hat Enterprise Linux operating system",
                    "analyticsTitle": "{Drupal analyticsTitle field}",        
                    "pageType": "pattern_template",
                    "pageSubType": "Product",
                    "siteExperience": "mobile",
                    "siteLanguage": "{siteLanguage}",
                    "subsection": "linux-platforms",
                    "subsection2": "enterprise-linux2",
                    "subsection3": "try-it",
                    "cms": "RH CMS 2020.14.0",
                    "analyticsTitle": "{Analytics Title field in Drupal}",
                    "blogAuthor": "{captures author of blog articles}",
                    "contentID": "545121",
                    "contentType": "E-book",
                    "destinationURL": "https://www.redhat.com/en/home-page",
                    "errorType": "404",
                    "gated": true,
                    "taxonomyMetaHreflang": ["29051"],
                    "taxonomyRegion": ["4521"],
                    "taxonomyBlogPostCategory": ["4261"],
                    "taxonomyBusinessChallenge":["161"],
                    "taxonomyProduct":["781"],
                    "taxonomyProductLine":["831"],
                    "taxonomySolution":["1071"],
                    "taxonomyTopic":["9011", "27061"],
                    "taxonomyAuthor":["1111"],
                    "taxonomyStage":["111"], 
                    "dataObject":"digitalData"
                    }
                    </script>
                </cpx-reporter>
            </li>
            <li>
                <details>
                    <summary>Page Load Completed</summary>
                    <pre data-event="Page Load Completed"></pre>
                </details>
                <cpx-reporter auto event="Page Load Completed"></cpx-reporter>
            </li>
        </ul>
        </fieldset>

        <fieldset>
        <legend>Form Events</legend>
        <ul>
            <li>
                <details>
                    <summary>Form Viewed</summary>
                    <pre data-event="Form Viewed"></pre>
                </details>
                <cpx-reporter auto event="Form Viewed">
                    <script type="data">
                    {
                        "formID": "{formID}",
                        "formName": "{formName}",
                        "formType": "{formType}",
                        "formTemplate": "{formTemplate}",
                        "offerID": "{offerID}",
                        "formField": [
                            {
                            "fieldID": "{fieldID}",
                            "fieldPosition": "{fieldPosition}"
                            }
                        ]
                    }
                    </script>
                    <form></form>
                </cpx-reporter>
            </li>
            <li>Form Submission Succeeded
                <!-- <cpx-reporter auto event="Form Submission Succeeded">
                    <script type="data">
                    {
                        "formID": "{formID}",
                        "formName": "{formName}",
                        "formType": "{formType}",
                        "formTemplate": "{formTemplate}",
                        "offerID": "{offerID}"
                    }
                    </script>
                </cpx-reporter> -->
            </li>
            <li>Form Submission Failed
                <!-- <cpx-reporter auto event="Form Submission Failed">
                    <script type="data">
                    {
                        "formError": "{formError}",
                        "formField": [
                            {
                                "fieldID": "{fieldID}",
                                "fieldPosition": "{fieldPosition}",
                                "formFieldError": "{formFieldError}"
                            }
                        ],
                        "formName": "{formName}",
                        "formTemplate": "{formTemplate}",
                        "offerID": "{offerID}",
                        "formType": "{formType}"
                    }
                    </script>
                </cpx-reporter> -->
            </li>
        </fieldset>
    <!-- <cpx-reporter beat="click" event="Content Listing Item Clicked">
        <ul>
            <li>
                <a class="unav__link" href="/en/products/open-hybrid-cloud" data-analytics-category="Featured Links" data-analytics-text="Open hybrid cloud">Open hybrid cloud</a>
            </li>               
        </ul>
    </cpx-reporter> -->
</body>
</html>